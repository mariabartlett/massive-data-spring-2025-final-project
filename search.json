[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Designing a data pipeline to analyze gender equity in college sports",
    "section": "",
    "text": "Project background\nThis site illustrates how applying big data techniques on the U.S. Department of Education’s Equity in Athletics Disclosure Act (EADA) data can help the federal government, universities, and advocacy groups better monitor and address issues with gender equity in collegiate athletics.\n\n\nSite overview\n\nIn Policy context, we give a brief history of U.S. legislation focused on improving gender equity in collegiate sports.\nIn RQs & data source, we outline our two main research questions and present the Equity in Athletics Disclosure Act (EADA) data used in our analyses.\nIn Data pipeline, we detail how we created a cloud-based pipeline using AWS to run our analyses.\nIn Analytics, we present the results of the exploratory analyses and unsupervised analyses (K-means clustering, PCA) that we deployed in our AWS pipeline. We employ both static and interactive visualizations to present results.\nFinally, in Institution reports, we provide a prototype for creating standardized gender equity snapshot PDFs for individual collegiate institutions. This is a task well-suited for future incorporation into our cloud pipeline."
  },
  {
    "objectID": "policy-context.html",
    "href": "policy-context.html",
    "title": "Designing a data pipeline to analyze gender equity in college sports",
    "section": "",
    "text": "Policy context\nGender disparities persist as a complex challenge in the United States, where equal opportunity is a core national value. During the civil rights movement of the 1960s and 1970s, Congress enacted legislation that made sex-based discrimination illegal in certain environments (NWLC, 2022a). Specifically in 1972, Congress passed Title IX, which prohibits sex-based discrimination in educational institutions that receive federal funding (NWLC, 2022a). Title IX not only protects students from sexual harassment and discrimination but also mandates that schools allocate athletic participation opportunities in a nondiscriminatory way (NWLC, 2022b; Casciani, 2021).\nOver the last fifty years, Congress and the Department of Education have continued to update the guidance and protocols for Title IX to better monitor its compliance (Office of Civil Rights, n.d.). In 1979, the Department of Education established that an individual institution’s intercollegiate athletics program must fulfill one of three defined criteria to be recognized as compliant:\n\nThe number of male and female athletes is in proportion to the institution’s respective student enrollment counts\nThe institution currently expands and has historically expanded participation opportunities “demonstrably responsive to the developing interest and abilities” of the underrepresented sex (Office of Civil Rights, n.d.)\nIf expansion of opportunities for the underrepresented sex has not been apparent, “the interests and abilities of the members of that sex have been fully and effectively accommodated by the present program” (Office of Civil Rights, n.d.).\n\nSeveral years later, Congress enacted the Equity in Athletics Disclosure Act (EADA) in 1994 to make it easier to track Title IX compliance in higher education institutions’ athletic programs (NCAA, n.d.; NWLC, n.d.). The EADA requires colleges and universities that (1) receive federal financial assistance (Title IV Federal Student Aid) and (2) sponsor intercollegiate athletics to report data annually on male and female athletics participation, staffing and other resources for the male and female athletic teams, and the revenues and expenses for the male and female athletic teams to the Department of Education (NCAA, n.d.). The data is then made publicly available by the institution and by the Department of Education (NCAA, n.d.; GAO, 2024).\nBecause of the EADA, we know that the gender gap in sports continues to exist within higher education institutions. The U.S. Government Accountability Office reported that during the 2021-2022 academic year, the overall athletic participation rate for women (42%) was 14 percentage points lower than their enrollment rate (56%) (GAO, 2024). In contrast, the athletic participation rate for men (58%) was 14 percentage points higher than their enrollment rate (44%) (GAO, 2024). Additionally, nearly half of colleges (40%) have not increased the number of varsity sports available to women since the 2009–2010 academic year (GAO, 2024)."
  },
  {
    "objectID": "data-source.html",
    "href": "data-source.html",
    "title": "Designing a data pipeline to analyze gender equity in college sports",
    "section": "",
    "text": "Our research is guided by the following questions:\n\nHow do the disparities between men’s and women’s sports vary by institution and sport?\nWhat distinct clusters of institutions emerge considering EADA variables for a single academic year?"
  },
  {
    "objectID": "data-source.html#research-questions",
    "href": "data-source.html#research-questions",
    "title": "Designing a data pipeline to analyze gender equity in college sports",
    "section": "",
    "text": "Our research is guided by the following questions:\n\nHow do the disparities between men’s and women’s sports vary by institution and sport?\nWhat distinct clusters of institutions emerge considering EADA variables for a single academic year?"
  },
  {
    "objectID": "data-source.html#data-source",
    "href": "data-source.html#data-source",
    "title": "Designing a data pipeline to analyze gender equity in college sports",
    "section": "Data source",
    "text": "Data source\nWe downloaded the EADA dataset directly from the Department of Education website (Office of Postsecondary Education, n.d.). Our EADA dataset consists of csv files, one for each academic year from years 2002-2023. Each dataset includes data on coach salaries, roster information, and recruitment expenses for all applicable male and female college athletic programs. There are approximately 4,000 variables captured within a single academic year. Each observation in the dataset represents a unique higher education institution that met the two criteria previously mentioned. While this exact number varies year-to-year, there are approximately 1,800 colleges/universities reflected in a single dataset (Office of Postsecondary Education, n.d.)."
  },
  {
    "objectID": "data-pipeline.html",
    "href": "data-pipeline.html",
    "title": "Designing a data pipeline to analyze gender equity in college sports",
    "section": "",
    "text": "Data pipeline\nOur analysis of gender equity in college sports required a robust data processing infrastructure to handle the EADA datasets. We implemented a cloud-based pipeline using AWS services to ensure scalability and reproducibility.\nThe EADA data contains multiple years of information across over 1,800 institutions, with dozens of metrics for each sport and gender combination. This volume and complexity of data necessitated a solution beyond local computing resources. We selected AWS as our cloud provider due to its comprehensive suite of data processing services and strong integration capabilities.\n\n\nSTEP 1: Raw Data Upload to S3\nWe begin by storing our raw EADA CSV files in Amazon S3. These datasets contain critical gender equity indicators including team roster sizes, coaching staff compensation, recruitment expenses, and scholarship allocations.\nOur Schools.csv file contains sport-specific data across institutions, including participation numbers and expenses separated by gender. The instLevel.csv file provides institution-wide metrics such as total athletics revenue and gender proportionality measurements. Both files contain financial information that benefits from S3’s security features while remaining accessible for our gender equity analysis. Although this financial data is publicly-available, users can easily imagine other uses where this data security would be essential.\n\n\n\nSTEP 2: Cluster Setup with EMR\nAnalyzing gender disparities across hundreds of institutions and dozens of sports requires significant computing power, especially for our unsupervised learning approach. We launched an Amazon EMR cluster to handle the dimensionality reduction and clustering analyses needed to identify patterns in athletic department spending and participation across genders.\nOur EMR environment included Spark for distributed processing of the equity metrics and Jupyter for interactive analysis. While a single-node cluster proved sufficient for our initial investigation into gender gaps in basketball and track programs, EMR’s scalability would accommodate future analyses of all NCAA sports across multiple divisions and years, in turn expanding our understanding of gender equity trends.\n\n\n\nSTEP 03: Launch Jupyter on EMR using SSH\nOnce the EMR cluster is active, we SSH into the EC2 Master node and manually start a Jupyter Notebook server on it. This gives us a familiar, browser-based Python environment where we can fetch data from S3, run our analysis, and visualize the output. This step requires setting up SSH tunneling so that we can securely access the notebook from our local browser.\n\n\nSTEP 04: Load & Analyze Data\nIn the notebook, we use boto3 to connect to S3 and load our datasets into pandas for analysis. We then run exploratory data analysis, correlation checks, visualizations, and prepare our results for export. Our analyses are discussed in detail in the Analytics section.\n\nAfter completing our analytical transformations, the processed gender equity datasets are stored back in our S3 bucket in a structured format. By returning these processed datasets to S3, we maintain a complete data lineage from raw EADA submissions to final analytical outputs. This approach ensures reproducibility and allows team members to access the processed data through various tools, including direct connections from R for the visualization work presented in our exploratory and unsupervised learning sections. The S3 storage also facilitates version control as we refine our equity analyses over time, enabling us to track changes in gender disparities across multiple academic years of athletic department operations."
  },
  {
    "objectID": "analyses.html",
    "href": "analyses.html",
    "title": "Designing a data pipeline to analyze gender equity in college sports",
    "section": "",
    "text": "Analytics\n\nExploratory\nThis section takes a closer look at disparities and trends in gender representation across institutions and sports. By analyzing participation rates, expenses, operating expenses, and revenue, the goal is to surface both progress and persistent gaps in gender equality. These visualizations below show the many outliers that exist throughout each of these areas.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nUnsupervised\n\nInstitution Level\nUsing Principle Component Analysis (PCA) and K-means clustering, practitioners are able to better understand universities that are similar to each other in their sports equity. Below, there are five clusters, which seem to emerge based on school sizes. On the far right side of the graph is the large universities with higher amounts of spending and larger teams. These universities do skew the graph a bit since they are spending so much more on their sports teams in comparison to the many small schools that are primarily on the left side of the graph. The code to create this graph is below, but a full python script for these analyses can be found here. \n\n#install.packages(\"plotly\")\nlibrary(plotly)\n\n\n# Read data from cleaned python file\ninst_level_numerical_no_coed_no_na_no_name = read.csv('03_Output/01_Analysis/inst_level_pca_data.csv')\n\n# Create a custom hover text\ninst_level_numerical_no_coed_no_na_no_name$hover_text &lt;- paste0(\n  \"University: \", inst_level_numerical_no_coed_no_na_no_name$university, \"&lt;br&gt;\",\n  \"Female Participants: \", inst_level_numerical_no_coed_no_na_no_name$EFFemaleCount, \"&lt;br&gt;\",\n  \"Male Participants: \", inst_level_numerical_no_coed_no_na_no_name$EFMaleCount, \"&lt;br&gt;\",\n  \"Ratio Women's Student Aid: \", inst_level_numerical_no_coed_no_na_no_name$STUAID_WOMEN_RATIO, \"&lt;br&gt;\",\n  \"Men's Head Coach Salary: \", \"$\", formatC(inst_level_numerical_no_coed_no_na_no_name$HDCOACH_SALARY_MEN, format = \"f\", big.mark = \",\", digits = 0)\n)\n\n\nfig &lt;- plot_ly(\n  data = inst_level_numerical_no_coed_no_na_no_name,\n  x = ~PC1,\n  y = ~PC2,\n  type = 'scatter',\n  mode = 'markers',\n  color = ~cluster,\n  text = ~hover_text,\n  hoverinfo = 'text',\n  marker = list(size = 10)\n)\n\nfig &lt;- fig %&gt;% layout(\n  title = 'KMeans Clustering with Hover Info',\n  xaxis = list(title = 'Principal Component 1'),\n  yaxis = list(title = 'Principal Component 2')\n)\n\nfig\n\n\n\n\n\n There are additional use cases where a school administrator may want to see similar universities to their own in this clustering algorithm. The next two examples show what administrators for schools like Georgetown or Furman might see when entering in their own universities and finding their nearest neighbors. Some of the results may be obvious, but others may be less so, leading to a reason for different schools to connect on their gender equity in sports and how they can improve or understand other programs. For example, Georgetown is close to many schools in their conference, but schools like East Carolina and Old Dominion are not far away from them and would maybe be less obvious schools to connect with. \n\n\n\n\n\n\n As for Furman, the schools nearest to them seem much less intuitive, with most being on the west coast which is quite the distance from the South Carolina school. These connections could help to facilitate unique discussions on how gender equity can be improved across various regions. \n\n\n\n\n\n\n\n\nSport Level\nAnother use case is to compare gender by sport. Again, using PCA a scatterplot can be created and filtered by sport to see the differences by gender. Below, there is a plot for Basketball, where one can see that men’s teams differ drastically from women’s teams.\n\n\n\n\n\n\n\nWhen looking in comparison at Cross Country/Track & Field, we see much fewer discrepancies between men’s and women’s teams."
  },
  {
    "objectID": "institution-reports.html",
    "href": "institution-reports.html",
    "title": "Designing a data pipeline to analyze gender equity in college sports",
    "section": "",
    "text": "In this section, we present a potential future use for the EADA data that is well-suited for a cloud computing environment, has high potential value for academic institutions, and is remarkably efficient to execute.\n\n\nThe institution-level structure of the EADA files are ideal for generating standardized, institution-specific reports that provide a snapshot of the sports equity landscape at the institution. Because multiple years of data are available, it is also highly feasible to generate cross-year institution comparison reports, either for a particular institution or for the entire institution universe. Because each file contains 1,800+ institutions and reports are not dependent on one another, this is an ideal task to parallelize in a cloud environment.\n\n\n\nIn this section, we present a tutorial on how to prepare year-specific snapshot files for a set of institutions using R. For the purpose of this tutorial, we deployed these steps locally on a small subset of institutions. However, in the final section, we will discuss thoughts for scaling this task up for execution in the cloud.\n\n\nBelow, we illustrate the structure of the EADA data for five institutions from the 2022-23 EADA file (with the first 30 variables).\n\n\n\n\nunitid\nOPEID\ninstitution_name\naddr1_txt\naddr2_txt\ncity_txt\nstate_cd\nzip_text\nClassificationCode\nclassification_name\nClassificationOther\nEFMaleCount\nEFFemaleCount\nEFTotalCount\nsector_cd\nsector_name\nSTUDENTAID_MEN\nSTUDENTAID_WOMEN\nSTUDENTAID_COED\nSTUDENTAID_TOTAL\nSTUAID_MEN_RATIO\nSTUAID_WOMEN_RATIO\nSTUAID_COED_RATIO\nRECRUITEXP_MEN\nRECRUITEXP_WOMEN\nRECRUITEXP_COED\nRECRUITEXP_TOTAL\nHDCOACH_SALARY_MEN\nHDCOACH_SALARY_WOMEN\nHDCOACH_SALARY_COED\n\n\n\n\n131496\n00144500\nGeorgetown University\n37th and O St NW\nGeorgetown University\nWashington\nDC\n200570001\n2\nNCAA Division I-FCS\nNA\n2995\n4153\n7148\n2\nPrivate nonprofit, 4-year or above\n5559743\n5871423\n2478\n11433644\n49\n51\n0\n997498\n153634\n7467\n1158599\n580565\n103748\n109326\n\n\n170976\n00232500\nUniversity of Michigan-Ann Arbor\n1109 Geddes Ave\nNA\nAnn Arbor\nMI\n48109\n1\nNCAA Division I-FBS\nNA\n14705\n16443\n31148\n1\nPublic, 4-year or above\n17929935\n13947339\nNA\n31877274\n56\n44\n0\n3876973\n940960\nNA\n4817933\n1086369\n258780\nNA\n\n\n198419\n00292000\nDuke University\n103 Allen Bldg\nNA\nDurham\nNC\n27708\n1\nNCAA Division I-FBS\nNA\n3114\n3429\n6543\n2\nPrivate nonprofit, 4-year or above\n14309544\n13291616\nNA\n27601160\n52\n48\n0\n2459555\n574848\nNA\n3034403\n687176\n209582\nNA\n\n\n199120\n00297400\nUniversity of North Carolina at Chapel Hill\n103 South Bldg Cb 9100\nNA\nChapel Hill\nNC\n27599\n1\nNCAA Division I-FBS\nNA\n7532\n11630\n19162\n1\nPublic, 4-year or above\n8398938\n6738951\nNA\n15137889\n55\n45\n0\n2155890\n848579\nNA\n3004469\n747659\n255997\nNA\n\n\n218070\n00343400\nFurman University\n3300 Poinsett Highway\nNA\nGreenville\nSC\n296136162\n2\nNCAA Division I-FCS\nNA\n928\n1331\n2259\n2\nPrivate nonprofit, 4-year or above\n7852046\n4732379\nNA\n12584425\n62\n38\n0\n263225\n141196\nNA\n404421\n196422\n99950\nNA\n\n\n\n\n\n\n\n\n\nNext, we identify key statistics we want each report to contain. We will present:\n\nA table with the total number of sports offered, by gender\nA table with the number of students participating in each sport, by gender\nA figure with average full−time coaching salary, by team gender and coach type (head vs. assistant)\n\nIn the following sections, we will discuss key code chunks from our reports_template.qmd file. This is the script that provides the template for our PDF reports. The full script is available on our GitHub repository here.\n\n\nImportantly, the document’s YAML header should include the parameters that vary during report production. In this case, these are:\n\nInstitution name\nSchool year (spring)\n\nWe initialize our default parameter values as Georgetown University for 2022-23.\n---\ntitle: \"Annual institutional sports equity report\"\nformat: pdf\ntheme: litera\ntoc: FALSE\nfontsize: 12pt\nembed-resources: TRUE\npage-layout: full\nparams:\n  inst: Georgetown University\n  year: 2023\ngeometry:\n      - top=2cm\n---\n\n\n\nNext, we use our parameter values to import the proper year of data and subset the data to our institution of interest.\n\n\nCode\n```{r}\n#| eval: false\n#| code-fold: true\n\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(assertr)\nlibrary(quarto)\nlibrary(readxl)\nlibrary(glue)\nlibrary(kableExtra)\nlibrary(janitor)\n\nroot &lt;- getwd()\n```\n\n\n\n```{r}\n#| eval: false\n\n# place parameters into variables\ncurr_year &lt;- params$year\ninst      &lt;- params$inst\n\n# import year-specific data and subset to specific institution\ndta &lt;- read_excel(file.path(root,glue(\"EADA_{curr_year}.xlsx\")), sheet = 1) %&gt;%\n  filter(institution_name == inst) %&gt;%\n  verify(nrow(.) == 1)\n\n# identify city and state and institution\nlocation &lt;- paste0(dta %&gt;% pull(city_txt),\", \", dta %&gt;% pull(state_cd))\n\n# format academic year\nsy &lt;- paste0(params$year - 1,\"-\",params$year)\n```\n\n\n\n\nWe then employ simple in-line code with markdown formatting to display basic institutional information at the top of the report. We can capitalize on available variables such as NCAA classification (classification_name) to easily display relevant information about the institution.\n**Year:** `r sy`\n\n**Institution:** `r dta %&gt;% pull(institution_name)`\n\n**Location:** `r location`\n\n**Institution type:** `r dta %&gt;% pull(sector_name)`\n\n**NCAA classification:** `r dta %&gt;% pull(classification_name)`\n\n**Total student body size:** `r format(dta %&gt;% pull(EFTotalCount), big.mark = \",\")`\n\n\n\n\nNext, we create our two tables using tidyverse and kableExtra. This is simple data cleaning and table preparation code that is not specific to the parameterized report framework. Thus, the code is available below but hidden by default.\n\n\nCode\n```{r}\n#| eval: false\n#| code-fold: true\n\nall_sports &lt;- dta %&gt;%\n  select(starts_with(c(\"PARTIC_WOMEN\",\"PARTIC_MEN\"))) %&gt;%\n  pivot_longer(cols = everything(), \n               names_to = c(\"gender\", \"Sport\"), \n               values_to = \"participants\",\n               names_pattern = \"PARTIC_(\\\\w+)_(.*)\") %&gt;%\n  filter(!is.na(participants) & participants &gt; 0) %&gt;%\n  mutate(gender = str_to_title(gender),\n         Sport  = case_when(Sport == \"BchVoll\"    ~ \"Beach Volleyball\",\n                            Sport == \"Bskball\"    ~ \"Basketball\",\n                            Sport == \"Eqstrian\"   ~ \"Equestrian\",\n                            Sport == \"FldHcky\"    ~ \"Field Hockey\",\n                            Sport == \"Gymn\"       ~ \"Gymnastics\",\n                            Sport == \"IceHcky\"    ~ \"Ice Hockey\",\n                            Sport == \"Lacrsse\"    ~ \"Lacrosse\",\n                            Sport == \"OthSpts\"    ~ \"other Sports\",\n                            Sport == \"SwimDivng\"  ~ \"Swimming \\\\& Diving\",\n                            Sport == \"SynSwim\"    ~ \"Synchronized Swimming\",\n                            Sport == \"TblTennis\"  ~ \"Table Tennis\",\n                            Sport == \"Trckcomb\"   ~ \"Track \\\\& Field (Combined)\",\n                            Sport == \"TrkFldIn\"   ~ \"Indoor Track \\\\& Field\",\n                            Sport == \"TrkFldOut\"  ~ \"Outdoor Track \\\\& Field\",\n                            Sport == \"Vollball\"   ~ \"Volleyball\",\n                            Sport == \"WaterPolo\"  ~ \"Water Polo\",\n                            Sport == \"WgtLift\"    ~ \"Weightlifting\",\n                            Sport == \"XCountry\"   ~ \"Cross country\",\n                            TRUE                  ~ Sport))\n\ntotal_sports &lt;- all_sports %&gt;%\n  group_by(gender) %&gt;%\n  summarise(n_sports = n()) %&gt;%\n  pivot_wider(names_from = gender, values_from = n_sports) %&gt;%\n  ungroup() %&gt;%\n  select(Women,Men)\n\nsports_by_gender &lt;- all_sports %&gt;%\n  pivot_wider(names_from = gender, values_from = participants) %&gt;%\n  arrange(Sport)\n\ntotal_sports %&gt;%\n  kable(escape = F, booktabs = T, format = \"latex\", align = \"c\", caption = \"Number of total sports offered, by gender\") %&gt;%\n  kable_styling(latex_options = c(\"HOLD_position\",\"repeat_header\"), full_width = TRUE) \n\nsports_by_gender %&gt;%\n  adorn_totals() %&gt;%\n  mutate(across(where(is.numeric), ~as.character(.x))) %&gt;%\n  mutate(across(everything(), ~ifelse(is.na(.x), \"\\u2013\",.x))) %&gt;%\n  kable(escape = F, booktabs = T, format = \"latex\", align = \"c\", caption = \"Number of students participating in sports, by gender\") %&gt;%\n  kable_styling(latex_options = c(\"HOLD_position\",\"repeat_header\"), full_width = TRUE) %&gt;%\n  row_spec(nrow(sports_by_gender), hline_after = T, extra_latex_after = \"%\") %&gt;%\n  row_spec(nrow(sports_by_gender)+1,bold=T) \n```\n\n\nTable 1\n\nTable 2\n\n\n\n\nWe create our figure using ggplot2. Again, this is simple data reshaping and figure preparation code that is not specific to the parameterized report framework. Thus, the code is available below but hidden by default.\n\n\nCode\n```{r}\n#| eval: false\n#| code-fold: true\n\nplot_dta &lt;- dta %&gt;%\n  select(starts_with(c(\"STUDENTAID\",\"RECRUITEXP\",\"ASCOACH_SAL_FTE\",\"HDCOACH_SAL_FTE\")) & !ends_with(c(\"COED\",\"TOTAL\"))) %&gt;%\n  pivot_longer(\n    cols = everything(),\n    names_to = c(\"type\",\"gender\"),\n    values_to = \"expense\",\n    names_pattern = \"(STUDENTAID|RECRUITEXP|HDCOACH_SALARY|ASCOACH_SAL_FTE|HDCOACH_SAL_FTE)_(.*)\"\n  ) \n\ncoach_sal &lt;- plot_dta %&gt;%\n  filter(grepl(\"SAL_FTE\",type, fixed = TRUE)) %&gt;%\n  mutate(type = case_when(grepl(\"ASCOACH\",type,fixed = TRUE) ~ \"Assistant coach\",\n                          TRUE                               ~ \"Head coach\"),\n         gender = case_when(gender == \"WOMN\" ~ \"Women's teams\",\n                            TRUE             ~ \"Men's teams\")) %&gt;%\n  mutate(type = factor(type, levels = c(\"Head coach\",\"Assistant coach\")))\n  \nggplot(data = coach_sal, aes(x = type, y = expense, fill = gender)) +\n  geom_bar(stat = \"identity\", position = \"dodge\", color = \"black\") +\n  geom_text(aes(label = scales::dollar(expense)), position = position_dodge(width = 0.9), vjust = -1) +\n  theme_minimal() +\n  labs(x = \"\",\n       y = \"Average full-time salary\") +\n  ggtitle(\"Figure 1: Average full-time coaching salary, \\nby team gender and coach type\") +\n  theme(plot.title = element_text(hjust = 0.5),\n        legend.title = element_blank(),\n        legend.key = element_blank(),\n        legend.background = element_rect(color = NA),\n        legend.position=\"bottom\") +\n  scale_fill_brewer(palette = \"Accent\") +\n  scale_y_continuous(labels = scales::dollar_format(prefix=\"$\"), expand = c(0.2,0))\n```\n\n\n\n\n\n\nLast, we’ll use our year-specific parameter and inline code to add the citation to identify where we obtained the data for these reports.\n`r glue(\"U.S. Department of Education, Office of Postsecondary Education, Equity in Athletics Disclosure Act (EADA) survey, {sy}.\")`\n\n\n\n\n\nIn the following section, we present the run_reports.R file to execute our reports. This script is also available on our GitHub repository here.\nIn the inst vector, we specify the institutions for which we want to run reports. In the year vector, we identify the year of data to use to prepare the reports. The remaining code tells R to iterate over these vectors and for each institution-year combination call our report_template.qmd, substitute the template parameters with the respective values, and export a PDF.\nNote: We obtained the basis for the code below from R for the Rest of Us (Keyes, 2024).\n\n```{r}\n#| eval: false\n\nlibrary(quarto)\nlibrary(tidyverse)\n\ninst &lt;- c(\"Georgetown University\",\n          \"Duke University\",\n          \"Furman University\",\n          \"University of Michigan-Ann Arbor\",\n          \"University of North Carolina at Chapel Hill\")\nyear &lt;- c(2023)\n\nreports &lt;-\n  tibble(\n    input = \"report_template.qmd\",\n    output_file = str_glue(\"{inst} {year} annual sports equity report.pdf\"),\n    execute_params = map2(inst, year, ~ list(inst = .x, year = .y))\n  )\n\npwalk(reports, quarto_render)\n```\n\n\n\n\nWe now have standardized reports for our 5 institutions - scroll through each report below!\n\n\nDownload PDF file.\n\n\n\nDownload PDF file.\n\n\n\nDownload PDF file.\n\n\n\nDownload PDF file.\n\n\n\nDownload PDF file.\n\n\n\n\n\nIn a cloud environment with distributed computing, we could imagine many use cases for this reporting pipeline. For example, we could efficiently:\n\nProduce these standardized reports for all institutions for all available years\nCreate a much more comprehensive report template by including a far greater number of tables and figures\nCapitalize on two or more years of data for the same institution to create cross-time reports\nUtilize the results of the K-means clustering analysis to identify similar institutions and create a unified PDF report with the snapshot for each institution\n\nThe opportunities are endless!"
  },
  {
    "objectID": "institution-reports.html#concept",
    "href": "institution-reports.html#concept",
    "title": "Designing a data pipeline to analyze gender equity in college sports",
    "section": "",
    "text": "The institution-level structure of the EADA files are ideal for generating standardized, institution-specific reports that provide a snapshot of the sports equity landscape at the institution. Because multiple years of data are available, it is also highly feasible to generate cross-year institution comparison reports, either for a particular institution or for the entire institution universe. Because each file contains 1,800+ institutions and reports are not dependent on one another, this is an ideal task to parallelize in a cloud environment."
  },
  {
    "objectID": "institution-reports.html#report-production-walk-through",
    "href": "institution-reports.html#report-production-walk-through",
    "title": "Designing a data pipeline to analyze gender equity in college sports",
    "section": "",
    "text": "In this section, we present a tutorial on how to prepare year-specific snapshot files for a set of institutions using R. For the purpose of this tutorial, we deployed these steps locally on a small subset of institutions. However, in the final section, we will discuss thoughts for scaling this task up for execution in the cloud.\n\n\nBelow, we illustrate the structure of the EADA data for five institutions from the 2022-23 EADA file (with the first 30 variables).\n\n\n\n\nunitid\nOPEID\ninstitution_name\naddr1_txt\naddr2_txt\ncity_txt\nstate_cd\nzip_text\nClassificationCode\nclassification_name\nClassificationOther\nEFMaleCount\nEFFemaleCount\nEFTotalCount\nsector_cd\nsector_name\nSTUDENTAID_MEN\nSTUDENTAID_WOMEN\nSTUDENTAID_COED\nSTUDENTAID_TOTAL\nSTUAID_MEN_RATIO\nSTUAID_WOMEN_RATIO\nSTUAID_COED_RATIO\nRECRUITEXP_MEN\nRECRUITEXP_WOMEN\nRECRUITEXP_COED\nRECRUITEXP_TOTAL\nHDCOACH_SALARY_MEN\nHDCOACH_SALARY_WOMEN\nHDCOACH_SALARY_COED\n\n\n\n\n131496\n00144500\nGeorgetown University\n37th and O St NW\nGeorgetown University\nWashington\nDC\n200570001\n2\nNCAA Division I-FCS\nNA\n2995\n4153\n7148\n2\nPrivate nonprofit, 4-year or above\n5559743\n5871423\n2478\n11433644\n49\n51\n0\n997498\n153634\n7467\n1158599\n580565\n103748\n109326\n\n\n170976\n00232500\nUniversity of Michigan-Ann Arbor\n1109 Geddes Ave\nNA\nAnn Arbor\nMI\n48109\n1\nNCAA Division I-FBS\nNA\n14705\n16443\n31148\n1\nPublic, 4-year or above\n17929935\n13947339\nNA\n31877274\n56\n44\n0\n3876973\n940960\nNA\n4817933\n1086369\n258780\nNA\n\n\n198419\n00292000\nDuke University\n103 Allen Bldg\nNA\nDurham\nNC\n27708\n1\nNCAA Division I-FBS\nNA\n3114\n3429\n6543\n2\nPrivate nonprofit, 4-year or above\n14309544\n13291616\nNA\n27601160\n52\n48\n0\n2459555\n574848\nNA\n3034403\n687176\n209582\nNA\n\n\n199120\n00297400\nUniversity of North Carolina at Chapel Hill\n103 South Bldg Cb 9100\nNA\nChapel Hill\nNC\n27599\n1\nNCAA Division I-FBS\nNA\n7532\n11630\n19162\n1\nPublic, 4-year or above\n8398938\n6738951\nNA\n15137889\n55\n45\n0\n2155890\n848579\nNA\n3004469\n747659\n255997\nNA\n\n\n218070\n00343400\nFurman University\n3300 Poinsett Highway\nNA\nGreenville\nSC\n296136162\n2\nNCAA Division I-FCS\nNA\n928\n1331\n2259\n2\nPrivate nonprofit, 4-year or above\n7852046\n4732379\nNA\n12584425\n62\n38\n0\n263225\n141196\nNA\n404421\n196422\n99950\nNA\n\n\n\n\n\n\n\n\n\nNext, we identify key statistics we want each report to contain. We will present:\n\nA table with the total number of sports offered, by gender\nA table with the number of students participating in each sport, by gender\nA figure with average full−time coaching salary, by team gender and coach type (head vs. assistant)\n\nIn the following sections, we will discuss key code chunks from our reports_template.qmd file. This is the script that provides the template for our PDF reports. The full script is available on our GitHub repository here.\n\n\nImportantly, the document’s YAML header should include the parameters that vary during report production. In this case, these are:\n\nInstitution name\nSchool year (spring)\n\nWe initialize our default parameter values as Georgetown University for 2022-23.\n---\ntitle: \"Annual institutional sports equity report\"\nformat: pdf\ntheme: litera\ntoc: FALSE\nfontsize: 12pt\nembed-resources: TRUE\npage-layout: full\nparams:\n  inst: Georgetown University\n  year: 2023\ngeometry:\n      - top=2cm\n---\n\n\n\nNext, we use our parameter values to import the proper year of data and subset the data to our institution of interest.\n\n\nCode\n```{r}\n#| eval: false\n#| code-fold: true\n\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(assertr)\nlibrary(quarto)\nlibrary(readxl)\nlibrary(glue)\nlibrary(kableExtra)\nlibrary(janitor)\n\nroot &lt;- getwd()\n```\n\n\n\n```{r}\n#| eval: false\n\n# place parameters into variables\ncurr_year &lt;- params$year\ninst      &lt;- params$inst\n\n# import year-specific data and subset to specific institution\ndta &lt;- read_excel(file.path(root,glue(\"EADA_{curr_year}.xlsx\")), sheet = 1) %&gt;%\n  filter(institution_name == inst) %&gt;%\n  verify(nrow(.) == 1)\n\n# identify city and state and institution\nlocation &lt;- paste0(dta %&gt;% pull(city_txt),\", \", dta %&gt;% pull(state_cd))\n\n# format academic year\nsy &lt;- paste0(params$year - 1,\"-\",params$year)\n```\n\n\n\n\nWe then employ simple in-line code with markdown formatting to display basic institutional information at the top of the report. We can capitalize on available variables such as NCAA classification (classification_name) to easily display relevant information about the institution.\n**Year:** `r sy`\n\n**Institution:** `r dta %&gt;% pull(institution_name)`\n\n**Location:** `r location`\n\n**Institution type:** `r dta %&gt;% pull(sector_name)`\n\n**NCAA classification:** `r dta %&gt;% pull(classification_name)`\n\n**Total student body size:** `r format(dta %&gt;% pull(EFTotalCount), big.mark = \",\")`\n\n\n\n\nNext, we create our two tables using tidyverse and kableExtra. This is simple data cleaning and table preparation code that is not specific to the parameterized report framework. Thus, the code is available below but hidden by default.\n\n\nCode\n```{r}\n#| eval: false\n#| code-fold: true\n\nall_sports &lt;- dta %&gt;%\n  select(starts_with(c(\"PARTIC_WOMEN\",\"PARTIC_MEN\"))) %&gt;%\n  pivot_longer(cols = everything(), \n               names_to = c(\"gender\", \"Sport\"), \n               values_to = \"participants\",\n               names_pattern = \"PARTIC_(\\\\w+)_(.*)\") %&gt;%\n  filter(!is.na(participants) & participants &gt; 0) %&gt;%\n  mutate(gender = str_to_title(gender),\n         Sport  = case_when(Sport == \"BchVoll\"    ~ \"Beach Volleyball\",\n                            Sport == \"Bskball\"    ~ \"Basketball\",\n                            Sport == \"Eqstrian\"   ~ \"Equestrian\",\n                            Sport == \"FldHcky\"    ~ \"Field Hockey\",\n                            Sport == \"Gymn\"       ~ \"Gymnastics\",\n                            Sport == \"IceHcky\"    ~ \"Ice Hockey\",\n                            Sport == \"Lacrsse\"    ~ \"Lacrosse\",\n                            Sport == \"OthSpts\"    ~ \"other Sports\",\n                            Sport == \"SwimDivng\"  ~ \"Swimming \\\\& Diving\",\n                            Sport == \"SynSwim\"    ~ \"Synchronized Swimming\",\n                            Sport == \"TblTennis\"  ~ \"Table Tennis\",\n                            Sport == \"Trckcomb\"   ~ \"Track \\\\& Field (Combined)\",\n                            Sport == \"TrkFldIn\"   ~ \"Indoor Track \\\\& Field\",\n                            Sport == \"TrkFldOut\"  ~ \"Outdoor Track \\\\& Field\",\n                            Sport == \"Vollball\"   ~ \"Volleyball\",\n                            Sport == \"WaterPolo\"  ~ \"Water Polo\",\n                            Sport == \"WgtLift\"    ~ \"Weightlifting\",\n                            Sport == \"XCountry\"   ~ \"Cross country\",\n                            TRUE                  ~ Sport))\n\ntotal_sports &lt;- all_sports %&gt;%\n  group_by(gender) %&gt;%\n  summarise(n_sports = n()) %&gt;%\n  pivot_wider(names_from = gender, values_from = n_sports) %&gt;%\n  ungroup() %&gt;%\n  select(Women,Men)\n\nsports_by_gender &lt;- all_sports %&gt;%\n  pivot_wider(names_from = gender, values_from = participants) %&gt;%\n  arrange(Sport)\n\ntotal_sports %&gt;%\n  kable(escape = F, booktabs = T, format = \"latex\", align = \"c\", caption = \"Number of total sports offered, by gender\") %&gt;%\n  kable_styling(latex_options = c(\"HOLD_position\",\"repeat_header\"), full_width = TRUE) \n\nsports_by_gender %&gt;%\n  adorn_totals() %&gt;%\n  mutate(across(where(is.numeric), ~as.character(.x))) %&gt;%\n  mutate(across(everything(), ~ifelse(is.na(.x), \"\\u2013\",.x))) %&gt;%\n  kable(escape = F, booktabs = T, format = \"latex\", align = \"c\", caption = \"Number of students participating in sports, by gender\") %&gt;%\n  kable_styling(latex_options = c(\"HOLD_position\",\"repeat_header\"), full_width = TRUE) %&gt;%\n  row_spec(nrow(sports_by_gender), hline_after = T, extra_latex_after = \"%\") %&gt;%\n  row_spec(nrow(sports_by_gender)+1,bold=T) \n```\n\n\nTable 1\n\nTable 2\n\n\n\n\nWe create our figure using ggplot2. Again, this is simple data reshaping and figure preparation code that is not specific to the parameterized report framework. Thus, the code is available below but hidden by default.\n\n\nCode\n```{r}\n#| eval: false\n#| code-fold: true\n\nplot_dta &lt;- dta %&gt;%\n  select(starts_with(c(\"STUDENTAID\",\"RECRUITEXP\",\"ASCOACH_SAL_FTE\",\"HDCOACH_SAL_FTE\")) & !ends_with(c(\"COED\",\"TOTAL\"))) %&gt;%\n  pivot_longer(\n    cols = everything(),\n    names_to = c(\"type\",\"gender\"),\n    values_to = \"expense\",\n    names_pattern = \"(STUDENTAID|RECRUITEXP|HDCOACH_SALARY|ASCOACH_SAL_FTE|HDCOACH_SAL_FTE)_(.*)\"\n  ) \n\ncoach_sal &lt;- plot_dta %&gt;%\n  filter(grepl(\"SAL_FTE\",type, fixed = TRUE)) %&gt;%\n  mutate(type = case_when(grepl(\"ASCOACH\",type,fixed = TRUE) ~ \"Assistant coach\",\n                          TRUE                               ~ \"Head coach\"),\n         gender = case_when(gender == \"WOMN\" ~ \"Women's teams\",\n                            TRUE             ~ \"Men's teams\")) %&gt;%\n  mutate(type = factor(type, levels = c(\"Head coach\",\"Assistant coach\")))\n  \nggplot(data = coach_sal, aes(x = type, y = expense, fill = gender)) +\n  geom_bar(stat = \"identity\", position = \"dodge\", color = \"black\") +\n  geom_text(aes(label = scales::dollar(expense)), position = position_dodge(width = 0.9), vjust = -1) +\n  theme_minimal() +\n  labs(x = \"\",\n       y = \"Average full-time salary\") +\n  ggtitle(\"Figure 1: Average full-time coaching salary, \\nby team gender and coach type\") +\n  theme(plot.title = element_text(hjust = 0.5),\n        legend.title = element_blank(),\n        legend.key = element_blank(),\n        legend.background = element_rect(color = NA),\n        legend.position=\"bottom\") +\n  scale_fill_brewer(palette = \"Accent\") +\n  scale_y_continuous(labels = scales::dollar_format(prefix=\"$\"), expand = c(0.2,0))\n```\n\n\n\n\n\n\nLast, we’ll use our year-specific parameter and inline code to add the citation to identify where we obtained the data for these reports.\n`r glue(\"U.S. Department of Education, Office of Postsecondary Education, Equity in Athletics Disclosure Act (EADA) survey, {sy}.\")`\n\n\n\n\n\nIn the following section, we present the run_reports.R file to execute our reports. This script is also available on our GitHub repository here.\nIn the inst vector, we specify the institutions for which we want to run reports. In the year vector, we identify the year of data to use to prepare the reports. The remaining code tells R to iterate over these vectors and for each institution-year combination call our report_template.qmd, substitute the template parameters with the respective values, and export a PDF.\nNote: We obtained the basis for the code below from R for the Rest of Us (Keyes, 2024).\n\n```{r}\n#| eval: false\n\nlibrary(quarto)\nlibrary(tidyverse)\n\ninst &lt;- c(\"Georgetown University\",\n          \"Duke University\",\n          \"Furman University\",\n          \"University of Michigan-Ann Arbor\",\n          \"University of North Carolina at Chapel Hill\")\nyear &lt;- c(2023)\n\nreports &lt;-\n  tibble(\n    input = \"report_template.qmd\",\n    output_file = str_glue(\"{inst} {year} annual sports equity report.pdf\"),\n    execute_params = map2(inst, year, ~ list(inst = .x, year = .y))\n  )\n\npwalk(reports, quarto_render)\n```\n\n\n\n\nWe now have standardized reports for our 5 institutions - scroll through each report below!\n\n\nDownload PDF file.\n\n\n\nDownload PDF file.\n\n\n\nDownload PDF file.\n\n\n\nDownload PDF file.\n\n\n\nDownload PDF file."
  },
  {
    "objectID": "institution-reports.html#scaling-up",
    "href": "institution-reports.html#scaling-up",
    "title": "Designing a data pipeline to analyze gender equity in college sports",
    "section": "",
    "text": "In a cloud environment with distributed computing, we could imagine many use cases for this reporting pipeline. For example, we could efficiently:\n\nProduce these standardized reports for all institutions for all available years\nCreate a much more comprehensive report template by including a far greater number of tables and figures\nCapitalize on two or more years of data for the same institution to create cross-time reports\nUtilize the results of the K-means clustering analysis to identify similar institutions and create a unified PDF report with the snapshot for each institution\n\nThe opportunities are endless!"
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "Designing a data pipeline to analyze gender equity in college sports",
    "section": "",
    "text": "References\nCasciani, N. (2021, January 26). 6 Ways to Raise Awareness of Title IX On and Off Campus. Traliant. https://www.traliant.com/blog/6-ways-to-raise-awareness-of-title-ix-on-and-off-campus/\nFry, R., Kennedy, B., & Funk, C. (2021, April 1). STEM Jobs See Uneven Progress in Increasing Gender, Racial and Ethnic Diversity. Pew Research Center. https://www.pewresearch.org/social-trends/2021/04/01/stem-jobs-see-uneven-progress-in-increasing-gender-racial-and-ethnic-diversity/\nHurst, K. (2024, November 18). U.S. women are outpacing men in college completion, including in every major racial and ethnic group. Pew Research Center. https://www.pewresearch.org/short-reads/2024/11/18/us-women-are-outpacing-men-in-college-completion-including-in-every-major-racial-and-ethnic-group/#:~:text=Today%2C%2047%25%20of%20U.S.%20women,from%2025%25%20to%2037%25).\nKeyes, D. (2024, June 27). A step-by-step guide to parameterized reporting in R using Quarto. R for the Rest of Us. https://rfortherestofus.com/2024/06/parameterized-reporting-quarto\nNational Collegiate Athletic Association (NCAA). (n.d.) Gender Equity / Title IX Important Facts. https://www.ncaa.org/sports/2013/11/21/gender-equity-title-ix-important-facts.aspx\nNational College Players Association (NCPA). (n.d.). About The NCPA. https://www.ncpanow.org/about-us.\nNational Women’s Law Center (NWLC). (2022a, June 21). The Battle for Gender Equity in Athletics in Colleges and Universities. https://nwlc.org/resource/the-battle-for-gender-equity-in-athletics-in-colleges-and-universities/\nNational Women’s Law Center (NWLC). (2022b, June 21). Quick Facts About Title IX and Athletics. https://nwlc.org/resource/quick-facts-about-title-ix-and-athletics\nNational Women’s Law Center (NWLC). (n.d.). Equity in Athletics Disclosure Act. https://www.bloomfield.edu/wp-content/uploads/2024/05/EADAFactsheet_June-07.pdf\nOffice of Civil Rights. (n.d.). Intercollegiate Athletics Policy: Three-Part Test – Part Three Q’s & A’s. U.S. Department of Education. https://www.ed.gov/laws-and-policy/civil-rights-laws/sex-discrimination/intercollegiate-athletics-policy-three-part-test–part-three-qs-as\nOffice of Postsecondary Education. (n.d.). Equity in Athletics Data Analysis. U.S. Department of Education. https://ope.ed.gov/athletics/#/datafile/list\nUnited States Government Accountability Office (GAO). (2024, April). College Athletics: Education Should Improve Its Title IX Enforcement Efforts."
  }
]